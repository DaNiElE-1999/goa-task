swagger: "2.0"
info:
    title: Books Service
    description: CRUD Application for books
    version: ""
host: localhost:8000
consumes:
    - application/json
    - application/xml
    - application/gob
produces:
    - application/json
    - application/xml
    - application/gob
paths:
    /books:
        get:
            tags:
                - books
            summary: all books
            operationId: books#all
            responses:
                "200":
                    description: OK response.
                    schema:
                        type: array
                        items:
                            $ref: '#/definitions/BookResponse'
            schemes:
                - http
        post:
            tags:
                - books
            summary: create books
            operationId: books#create
            parameters:
                - name: CreateRequestBody
                  in: body
                  required: true
                  schema:
                    $ref: '#/definitions/BooksCreateRequestBody'
                    required:
                        - title
                        - author
                        - bookCover
                        - publishedAt
            responses:
                "200":
                    description: OK response.
                    schema:
                        $ref: '#/definitions/BooksCreateResponseBody'
                        required:
                            - title
                            - author
                            - bookCover
                            - publishedAt
            schemes:
                - http
    /books/{id}:
        get:
            tags:
                - books
            summary: getBook books
            operationId: books#getBook
            parameters:
                - name: id
                  in: path
                  description: Book ID
                  required: true
                  type: integer
            responses:
                "200":
                    description: OK response.
                    schema:
                        $ref: '#/definitions/BooksGetBookResponseBody'
                        required:
                            - title
                            - author
                            - bookCover
                            - publishedAt
            schemes:
                - http
        put:
            tags:
                - books
            summary: updateBook books
            operationId: books#updateBook
            parameters:
                - name: id
                  in: path
                  description: Book ID
                  required: true
                  type: integer
                - name: UpdateBookRequestBody
                  in: body
                  required: true
                  schema:
                    $ref: '#/definitions/BooksUpdateBookRequestBody'
            responses:
                "200":
                    description: OK response.
                    schema:
                        $ref: '#/definitions/BooksUpdateBookResponseBody'
                        required:
                            - title
                            - author
                            - bookCover
                            - publishedAt
            schemes:
                - http
        delete:
            tags:
                - books
            summary: deleteBook books
            operationId: books#deleteBook
            parameters:
                - name: id
                  in: path
                  description: Book ID
                  required: true
                  type: integer
            responses:
                "204":
                    description: No Content response.
            schemes:
                - http
    /openapi3.json:
        get:
            tags:
                - books
            summary: Download ./gen/http/openapi3.json
            operationId: books#/openapi3.json
            responses:
                "200":
                    description: File downloaded
                    schema:
                        type: file
            schemes:
                - http
    /upload/{dir}:
        post:
            tags:
                - books
            summary: upload books
            operationId: books#upload
            parameters:
                - name: dir
                  in: path
                  description: Dir is the relative path to the file directory where the uploaded content is saved.
                  required: true
                  type: string
                  default: upload
                - name: Content-Type
                  in: header
                  description: Content-Type header, must define value for multipart boundary.
                  required: false
                  type: string
                  default: multipart/form-data; boundary=goa
                  pattern: multipart/[^;]+; boundary=.+
            responses:
                "204":
                    description: No Content response.
                "400":
                    description: Bad Request response.
                    schema:
                        $ref: '#/definitions/BooksUploadInvalidMultipartRequestResponseBody'
                "500":
                    description: Internal Server Error response.
                    schema:
                        $ref: '#/definitions/BooksUploadInternalErrorResponseBody'
            schemes:
                - http
    /uploadBookCover:
        post:
            tags:
                - books
            summary: uploadImage books
            description: Upload an image
            operationId: books#uploadImage
            consumes:
                - multipart/form-data
            parameters:
                - name: UploadImageRequestBody
                  in: formData
                  required: true
                  schema:
                    $ref: '#/definitions/BooksUploadImageRequestBody'
            responses:
                "200":
                    description: OK response.
            schemes:
                - http
definitions:
    BookRequestBody:
        title: BookRequestBody
        type: object
        properties:
            ID:
                type: integer
                description: Unique ID of the book
                example: 8207999670637457491
                format: int64
            author:
                type: string
                description: Author of the book
                example: Aut qui quis distinctio labore.
            bookCover:
                type: string
                description: Cover of the book
                example: Incidunt dignissimos sed omnis.
            publishedAt:
                type: string
                description: Date the book has been published
                example: Id rem libero a sunt.
            title:
                type: string
                description: Title of the book
                example: Cupiditate consectetur.
        example:
            ID: 7244139769867850733
            author: Corrupti saepe laudantium qui eligendi.
            bookCover: Fuga est sed blanditiis et.
            publishedAt: Neque voluptas sequi soluta consequatur.
            title: Aut doloribus expedita autem quis iusto dolorem.
        required:
            - title
            - author
            - bookCover
            - publishedAt
    BookResponse:
        title: BookResponse
        type: object
        properties:
            ID:
                type: integer
                description: Unique ID of the book
                example: 933868219178393708
                format: int64
            author:
                type: string
                description: Author of the book
                example: Voluptatem voluptatem ut ex et quasi.
            bookCover:
                type: string
                description: Cover of the book
                example: Qui et deleniti fugit est aut.
            publishedAt:
                type: string
                description: Date the book has been published
                example: Et enim odio voluptatum.
            title:
                type: string
                description: Title of the book
                example: Eos facere placeat veniam voluptas accusamus ut.
        example:
            ID: 8832309096929784805
            author: Sed aut.
            bookCover: Iste accusantium quo aliquam sit.
            publishedAt: Numquam consequatur fuga voluptatibus alias et fugit.
            title: Quia consequatur.
        required:
            - title
            - author
            - bookCover
            - publishedAt
    BooksCreateRequestBody:
        title: BooksCreateRequestBody
        type: object
        properties:
            ID:
                type: integer
                description: Unique ID of the book
                example: 8321567011252959992
                format: int64
            author:
                type: string
                description: Author of the book
                example: Et et qui voluptatibus.
            bookCover:
                type: string
                description: Cover of the book
                example: Sit quasi in.
            publishedAt:
                type: string
                description: Date the book has been published
                example: Praesentium dolorem et vitae sunt a.
            title:
                type: string
                description: Title of the book
                example: Temporibus possimus natus tempore amet provident velit.
        example:
            ID: 9094929035047170638
            author: Optio sed vitae a amet distinctio.
            bookCover: Ea inventore porro assumenda recusandae corrupti.
            publishedAt: Doloribus similique possimus quia.
            title: Autem debitis.
        required:
            - title
            - author
            - bookCover
            - publishedAt
    BooksCreateResponseBody:
        title: BooksCreateResponseBody
        type: object
        properties:
            ID:
                type: integer
                description: Unique ID of the book
                example: 1641333832562103870
                format: int64
            author:
                type: string
                description: Author of the book
                example: Aliquam laboriosam in molestiae repudiandae.
            bookCover:
                type: string
                description: Cover of the book
                example: Et amet dolores qui quam.
            publishedAt:
                type: string
                description: Date the book has been published
                example: Omnis voluptate quo veritatis.
            title:
                type: string
                description: Title of the book
                example: Quibusdam quas velit et unde eveniet.
        example:
            ID: 708357737794063594
            author: Sit fuga rerum illum.
            bookCover: Qui totam incidunt.
            publishedAt: Possimus mollitia error ratione.
            title: Voluptatibus eum dolorum labore quas.
        required:
            - title
            - author
            - bookCover
            - publishedAt
    BooksGetBookResponseBody:
        title: BooksGetBookResponseBody
        type: object
        properties:
            ID:
                type: integer
                description: Unique ID of the book
                example: 1588809184003176921
                format: int64
            author:
                type: string
                description: Author of the book
                example: Dolore exercitationem ex odit.
            bookCover:
                type: string
                description: Cover of the book
                example: Est ut est sit et perferendis.
            publishedAt:
                type: string
                description: Date the book has been published
                example: Eos aperiam illum consequatur voluptatem illo tempora.
            title:
                type: string
                description: Title of the book
                example: Ut quis hic et dicta et eum.
        example:
            ID: 3053542106201439437
            author: Consequatur totam culpa.
            bookCover: Culpa in qui.
            publishedAt: Officia exercitationem.
            title: Occaecati eaque nulla consequuntur delectus atque.
        required:
            - title
            - author
            - bookCover
            - publishedAt
    BooksUpdateBookRequestBody:
        title: BooksUpdateBookRequestBody
        type: object
        properties:
            book:
                $ref: '#/definitions/BookRequestBody'
        example:
            book:
                ID: 267326349154593595
                author: Expedita commodi facere magni et.
                bookCover: Est quibusdam rerum.
                publishedAt: Dolor labore.
                title: Quasi saepe sunt est dolor.
    BooksUpdateBookResponseBody:
        title: BooksUpdateBookResponseBody
        type: object
        properties:
            ID:
                type: integer
                description: Unique ID of the book
                example: 3898703780982607212
                format: int64
            author:
                type: string
                description: Author of the book
                example: Veritatis delectus voluptatem tenetur eveniet earum voluptatem.
            bookCover:
                type: string
                description: Cover of the book
                example: Error officiis et.
            publishedAt:
                type: string
                description: Date the book has been published
                example: Dolorum quas.
            title:
                type: string
                description: Title of the book
                example: Quas et.
        example:
            ID: 5316936788496684629
            author: Distinctio sed occaecati sequi veniam.
            bookCover: Omnis voluptate velit ratione sint voluptatibus quos.
            publishedAt: Sed nihil fugit minima cupiditate.
            title: Odit repellendus rerum.
        required:
            - title
            - author
            - bookCover
            - publishedAt
    BooksUploadImageRequestBody:
        title: BooksUploadImageRequestBody
        type: object
        properties:
            content_type:
                type: string
                description: Content-Type header, must define value for multipart boundary.
                default: multipart/form-data; boundary=goa
                example: "multipart/\U00020DC7\U00058132; boundary=��"
                pattern: multipart/[^;]+; boundary=.+
            image:
                type: string
                description: Binary data of the image
                example:
                    - 67
                    - 111
                    - 109
                    - 109
                    - 111
                    - 100
                    - 105
                    - 32
                    - 115
                    - 101
                    - 100
                    - 32
                    - 97
                    - 112
                    - 101
                    - 114
                    - 105
                    - 97
                    - 109
                    - 32
                    - 108
                    - 97
                    - 98
                    - 111
                    - 114
                    - 117
                    - 109
                    - 32
                    - 113
                    - 117
                    - 105
                    - 97
                    - 32
                    - 97
                    - 99
                    - 99
                    - 117
                    - 115
                    - 97
                    - 109
                    - 117
                    - 115
                    - 46
                format: byte
        example:
            content_type: "multipart/\U000424B4\U0006A387\U00069232\U000DC09E; boundary=����"
            image:
                - 79
                - 109
                - 110
                - 105
                - 115
                - 32
                - 105
                - 112
                - 115
                - 97
                - 32
                - 100
                - 111
                - 108
                - 111
                - 114
                - 101
                - 115
                - 32
                - 114
                - 101
                - 99
                - 117
                - 115
                - 97
                - 110
                - 100
                - 97
                - 101
                - 32
                - 114
                - 101
                - 105
                - 99
                - 105
                - 101
                - 110
                - 100
                - 105
                - 115
                - 32
                - 116
                - 111
                - 116
                - 97
                - 109
                - 46
    BooksUploadInternalErrorResponseBody:
        title: 'Mediatype identifier: application/vnd.goa.error; view=default'
        type: object
        properties:
            fault:
                type: boolean
                description: Is the error a server-side fault?
                example: true
            id:
                type: string
                description: ID is a unique identifier for this particular occurrence of the problem.
                example: 123abc
            message:
                type: string
                description: Message is a human-readable explanation specific to this occurrence of the problem.
                example: parameter 'p' must be an integer
            name:
                type: string
                description: Name is the name of this class of errors.
                example: bad_request
            temporary:
                type: boolean
                description: Is the error temporary?
                example: false
            timeout:
                type: boolean
                description: Is the error a timeout?
                example: true
        description: Fault while processing upload. (default view)
        example:
            fault: true
            id: 123abc
            message: parameter 'p' must be an integer
            name: bad_request
            temporary: false
            timeout: true
        required:
            - name
            - id
            - message
            - temporary
            - timeout
            - fault
    BooksUploadInvalidMediaTypeResponseBody:
        title: 'Mediatype identifier: application/vnd.goa.error; view=default'
        type: object
        properties:
            fault:
                type: boolean
                description: Is the error a server-side fault?
                example: true
            id:
                type: string
                description: ID is a unique identifier for this particular occurrence of the problem.
                example: 123abc
            message:
                type: string
                description: Message is a human-readable explanation specific to this occurrence of the problem.
                example: parameter 'p' must be an integer
            name:
                type: string
                description: Name is the name of this class of errors.
                example: bad_request
            temporary:
                type: boolean
                description: Is the error temporary?
                example: false
            timeout:
                type: boolean
                description: Is the error a timeout?
                example: true
        description: Error returned when the Content-Type header does not define a multipart request. (default view)
        example:
            fault: true
            id: 123abc
            message: parameter 'p' must be an integer
            name: bad_request
            temporary: false
            timeout: false
        required:
            - name
            - id
            - message
            - temporary
            - timeout
            - fault
    BooksUploadInvalidMultipartRequestResponseBody:
        title: 'Mediatype identifier: application/vnd.goa.error; view=default'
        type: object
        properties:
            fault:
                type: boolean
                description: Is the error a server-side fault?
                example: false
            id:
                type: string
                description: ID is a unique identifier for this particular occurrence of the problem.
                example: 123abc
            message:
                type: string
                description: Message is a human-readable explanation specific to this occurrence of the problem.
                example: parameter 'p' must be an integer
            name:
                type: string
                description: Name is the name of this class of errors.
                example: bad_request
            temporary:
                type: boolean
                description: Is the error temporary?
                example: true
            timeout:
                type: boolean
                description: Is the error a timeout?
                example: false
        description: Error returned when the request body is not a valid multipart content. (default view)
        example:
            fault: false
            id: 123abc
            message: parameter 'p' must be an integer
            name: bad_request
            temporary: false
            timeout: false
        required:
            - name
            - id
            - message
            - temporary
            - timeout
            - fault
